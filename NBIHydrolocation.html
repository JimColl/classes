<!DOCTYPE html>
<html lang="en"><head>
<link href="./_favlogo.png" rel="icon" type="image/png">
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-html/tabby.min.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/quarto-contrib/qrcodejs-v1.0.0/qrcode.js"></script>
<link href="site_libs/quarto-contrib/fontawesome6-1.2.0/all.min.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/fontawesome6-1.2.0/latex-fontsize.css" rel="stylesheet"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.6.42">

  <title>So long as you get the GIS&amp;T of it – nbihydrolocation</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
  </style>
  <link rel="stylesheet" href="site_libs/revealjs/dist/theme/quarto-88a9298778b4231bab08b139834103b4.css">
  <link href="site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">


<section id="section" class="slide level2" data-menu-title="If you want a different title in the TOC" data-background-image="./_Water_bw.jpg" data-background-size="cover">
<h2></h2>
<div class="cell">
<style type="text/css">
/* https://github.com/quarto-dev/quarto-cli/discussions/1645 */
.reveal .slides {                
  outline: thick double #B22222; 
}                                
.reveal .footer {
  color: #ffffff;
  background-color: #000000;
  display: block;
  position: fixed;
  padding-bottom: 18px;
  padding-top: 6px;
  bottom: 0.3% !important; // Makes footer div flush with bottom of slide
  width: 100%;
  z-index: 2 !important; // Sets the footer div further down the z-index
}
.reveal .progress {
  background: #325494;
  color: #58DDB3;
  height: 1%;
  z-index: 2 !important; // Sets the footer div further down the z-index
}
.slide-number, .reveal.has-logo .slide-number {
  bottom: 14px !important;
  right: 90px !important;
  top: unset !important;
  color: #6f6f6f !important;
  text-shadow: -1px 0 white, 0 1px white, 1px 0 white, 0 -1px white !important;
}
/*  https://github.com/quarto-dev/quarto-cli/issues/746 */
.reveal .slide-logo {
  z-index: 5 !important;
}
</style>
</div>
<p><img data-src="./_errata1_to_snbi_march_2022_publication_cover.png" class="absolute" style="padding: 0px 0px 0px 0px; border-style: solid; border-width: 5px; border-color: #000000FF;top: 0%; right: 0%; height: 100%; "></p>
<div class="columns" width="100%">
<div class="column" style="width:58%;">
<p><span style="font-size: 2.4em; color:white; -webkit-text-stroke-width: 3px; -webkit-text-stroke-color: black;">NBI Hydrolocation Considerations</span></p>
<div style="background-color: #D3D3D390; border-radius: 25px; border-style: solid; border-width: 5px; border-color: #000000FF;">
<h3 id="goals">Goals:</h3>
<ul class="task-list">
<li><label><input type="checkbox">Orient ourselves to the <a href="https://www.fhwa.dot.gov/bridge/nbi.cfm">National Bridge Inventory (NBI)</a></label></li>
<li><label><input type="checkbox">Document the conflation process applied to create hydrolocations</label></li>
<li><label><input type="checkbox">Provide database</label></li>
</ul>
<h3 id="outcomes">Outcomes:</h3>
<ul>
<li>A better understanding of the data and processing algorithm applied in the creation of a national database</li>
<li>A file useful for hydrofabric network creation and OSM/NBI ID conflation workflows</li>
</ul>
</div>
</div><div class="column" style="width:40%;">

</div></div>
<aside class="notes">
For: Background images from:<br>
<ul>
<li>
OWP presentation template background: <code>./_Water_color.png</code> or <code>./_Water_bw.jpg</code> - “cover”
</li>
<li>
My own efforts from <a href="https://www.vecteezy.com/free-png/water">Water PNGs by Vecteezy, https://www.vecteezy.com/members/ahasanaraakter</a>: <code>_vecteezy_ai-generated-water-wave-splash.png</code> / <code>_vecteezy_ai-generated-water-wave-splash_bw.png</code> / <code>_vecteezy_ai-generated-water-wave-splash_bw_blur.png</code> - “contain”
</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="presentation-navigation-tips" class="slide level2" data-background-color="white" data-background-image="./_Water_color.png" data-background-size="cover">
<h2>Presentation Navigation Tips</h2>
<div class="columns">
<div class="column" style="width:60%;">
<div style="text-align: center;">
<p><a href="https://revealjs.com/vertical-slides/#navigation-mode">Slide layout</a> <i class="fa-solid fa-arrows-left-right" aria-label="arrows-left-right"></i>: This deck has one axis, use any key to advance.</p>
<p><i class="fa-solid fa-images" aria-label="images"></i>: This deck is narrative-oriented</p>
<p><br></p>
<p><em>Items <span title="Here's where you'd find my source" style="color: #3cb371; padding: 0px 0px 0px 0px; border-style: solid; border-width: 5px; border-color: #3cb371;">linked/bordered in green</span> are cited in the tooltip on hover.</em></p>
<p><em>Items <span style="color: #2A76DD; padding: 0px 0px 0px 0px; border-style: solid; border-width: 5px; border-color: #2A76DD;">linked/bordered in blue</span> are hyperlinked to relevant resources.</em></p>
<p><br></p>
<p><span style="color: #3cb371;"><i class="fa-solid fa-eye" aria-label="eye"></i></span> Photos are Allowed | <span style="color: #3cb371;"><i class="fa-solid fa-thumbs-up" aria-label="thumbs-up"></i></span> Questions are Encouraged</p>
<p><i class="fa-solid fa-hourglass-end" aria-label="hourglass-end"></i>: ~5 minutes | Last updated:08/25/2025 20:49:09</p>
<p><strong>! PLEASE !</strong></p>
<p>Interrupt me and ask questions or clarifications.</p>
<p>I’m here to talk with you now, not to these slides.</p>
</div>
</div><div class="column" style="width:40%;">
<h3 id="control-tips">Control tips</h3>
<div style="font-size: 0.6em;">
<p>My preferred (FOSS) flavor of slidedecks, <a href="https://revealjs.com/">revealjs</a>, has intuitive but none the less unconventional PowerPoint presentation controls:</p>
<ul>
<li>Slides dynamically resize to use the entirety of the browser window, but you can still fullscreen with <code>F</code>.
<ul>
<li><span style="padding: 0px 0px 0px 0px; border-style: solid; border-width: 5px; border-color: #FF0000FF;">This slide has a red border</span> indicating the content extent.</li>
</ul></li>
<li><a href="https://revealjs.com/vertical-slides/#navigation-mode">Slide navigation</a> is mode dependent. If there are vertical slides, press <code>space</code>, <code>N</code>, or the <code>down arrow</code> key, not the <code>right arrow</code> to advance slides</li>
<li>Press <code>M</code> to open to the menu, Press <code>O</code> for the slide deck overview, Press <code>B</code> to black out the presentation screen, Press <code>S</code> for a speaker view.</li>
<li>You can use the <a href="https://quarto.org/docs/presentations/revealjs/presenting.html#chalkboard">chalkboard</a> to freemouse/touchpad draw.</li>
<li>Slides <em>should</em> render as designed<sup>1</sup> but you can press <code>Alt/Opt</code> + click on the slide to zoom in. Increase text size with <code>Alt/Opt</code> + <code>+</code>, <code>Alt/Opt</code> + <code>-</code> to decrease, and <code>Alt/Opt</code> + <code>0</code> reset to the default scale.</li>
<li>Press <code>C</code> to declare victory and head home.<sup>2</sup></li>
</ul>
</div>
</div></div>
<p><a href="https://jimcoll.github.io/classes/FlatGrillDeck.html"></a></p><a href="https://jimcoll.github.io/classes/FlatGrillDeck.html">
</a><div class="absolute" style="padding: 0px 0px 12px 6px; margin: 0px 0px 0px 0px; border-style: solid; border-width: 5px; border-color: #2A76DDFF;left: 26%; bottom: 11.6%; width: 140px; height: 140px; "><a href="https://jimcoll.github.io/classes/FlatGrillDeck.html">
<div id="id=" "="" class="qrcode"></div>
<script type="text/javascript">
(function() {
  var script = document.currentScript;
  var qrcode = script.previousElementSibling;
  qrcode.qrcode = new QRCode(qrcode, {"colorDark":"#000000","colorLight":"#ffffff","height":"140","text":"https://jimcoll.github.io/classes/FlatGrillDeck.html","width":"140"});
  script.remove();
})();
</script>
    
</a><div style="font-size: 0.5em;"><a href="https://jimcoll.github.io/classes/FlatGrillDeck.html">
</a><p><a href="https://jimcoll.github.io/classes/FlatGrillDeck.html"></a><a href="https://jimcoll.github.io/classes/FlatGrillDeck.html">This presentation</a></p>
</div>
</div>
<p></p>
<p><img data-src="./_Computers.gif" class="absolute" style="padding: 0px 0px 0px 0px; border-style: solid; border-width: 5px; border-color: #3cb371FF;left: 66%; bottom: 0%; width: 24%; " title="Image credit: https://getyarn.io/yarn-clip/e3cb75d6-3bc4-4eb3-ab4e-e3172efaf0f5"></p>
<div class="absolute .rectangle" style="height: 100%; width: 100%; padding: 0px 0px 0px 0px; border-style: solid; border-width: 5px; border-color: #FF0000FF; z-index: -1;top: 0%; left: 0%; ">

</div>
<aside class="notes">
<p>Speaker notes</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<aside><ol class="aside-footnotes"><li id="fn1"><p>tested in an updated version of google chrome</p></li><li id="fn2"><p>A favored quote from one of my giants: <a href="https://experts.utexas.edu/david_maidment">Dr.&nbsp;David Maidment</a></p></li></ol></aside></section>
<section id="what-is-nbi" class="slide level2" data-background-color="white" data-background-image="./_Water_color.png" data-background-size="cover">
<h2>What is NBI</h2>
<p>The National Bridge Inventory (NBI) is our nations way of accounting for and coarsely administering the nations critical bridges. This inventory is used by state and federal partners and provides “the Recording and Coding Guide for the Structure Inventory and Appraisal of the Nation’s Bridges…” as administered by the US Federal Highway Administration (FHWA). This data can be accessed (in ASCII form) from <a href="https://www.fhwa.dot.gov/bridge/nbi/ascii.cfm">here</a>.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>   STATE_CODE_001 STRUCTURE_NUMBER_008 RECORD_TYPE_005A ROUTE_PREFIX_005B
            &lt;int&gt;               &lt;char&gt;           &lt;char&gt;             &lt;int&gt;
1:              1      00000000000S702                1                 6
2:              1      00000000000S703                1                 6
3:              1      0000000000M0022                1                 8
4:              1      000000883039900                1                 4
5:              1      000001014002450                1                 3
6:              1      000001331700710                1                 6
   SERVICE_LEVEL_005C ROUTE_NUMBER_005D DIRECTION_005E HIGHWAY_DISTRICT_002
                &lt;int&gt;            &lt;char&gt;          &lt;int&gt;               &lt;char&gt;
1:                  1             04007              0                   09
2:                  1             04003              0                   09
3:                  1             00000              0                   00
4:                  1             00088              0                   02
5:                  1             00101              0                   02
6:                  2             00000              0                   02
   COUNTY_CODE_003 PLACE_CODE_004        FEATURES_DESC_006A
             &lt;int&gt;          &lt;int&gt;                    &lt;char&gt;
1:              53              0           'PERDIDO CREEK'
2:              53           3004           'PERDIDO CREEK'
3:             113          19000             'UCHEE CREEK'
4:              59              0 'LITTLE BEAR CR. DAM SPW'
5:              79              0         'TENNESSEE RIVER'
6:              33              0         'TENNESSEE RIVER'
   CRITICAL_FACILITY_006B FACILITY_CARRIED_007              LOCATION_009
                   &lt;lgcl&gt;               &lt;char&gt;                    &lt;char&gt;
1:                     NA   'IRR BIA RTE 4007' '11.4KM NW OF ATMORE  AL'
2:                     NA   'IRR BIA RTE 4003'      'ON LYNN MCGEE ROAD'
3:                     NA  '101ST AIRBORNE RD' '3.4 KM S OF SUNSHINE RD'
4:                     NA          'CO. RD 88'      'LITTLE BEAR CR DAM'
5:                     NA             'SR 101'          'ON WHEELER DAM'
6:                     NA             'Res Rd'           'ON WILSON DAM'
   MIN_VERT_CLR_010 KILOPOINT_011 BASE_HWY_NETWORK_012 LRS_INV_ROUTE_013A
              &lt;num&gt;         &lt;num&gt;                &lt;int&gt;             &lt;char&gt;
1:            99.99         1.500                    0         0000000000
2:            99.99         1.100                    0         0000000000
3:            99.99         0.000                    0                   
4:            99.99         0.000                    0                   
5:             4.52        39.429                    0                   
6:            99.99         0.000                    0                   
   SUBROUTE_NO_013B  LAT_016 LONG_017 DETOUR_KILOS_019 TOLL_020 MAINTENANCE_021
              &lt;int&gt;    &lt;num&gt;    &lt;num&gt;            &lt;int&gt;    &lt;int&gt;           &lt;int&gt;
1:                0 31061094 87341348                3        3              62
2:                0 31062020 87340890                3        3              62
3:               NA 32174330 84583799               18        3              74
4:               NA 34270600 87583100               16        3              67
5:               NA 34485200 87225400               42        3              67
6:               NA 34482400 87374000                6        3              67
   OWNER_022 FUNCTIONAL_CLASS_026 YEAR_BUILT_027 TRAFFIC_LANES_ON_028A
       &lt;int&gt;                &lt;int&gt;          &lt;int&gt;                 &lt;int&gt;
1:        62                    9           1999                     2
2:        62                    9           2002                     2
3:        74                    9           1942                     2
4:        67                    8           1974                     2
5:        67                    6           1937                     2
6:        67                   17           1924                     2
   TRAFFIC_LANES_UND_028B ADT_029 YEAR_ADT_030 DESIGN_LOAD_031
                    &lt;int&gt;   &lt;int&gt;        &lt;int&gt;          &lt;char&gt;
1:                      0      50         2021               5
2:                      0     159         2021               5
3:                      0     375         2021               0
4:                      0     205         2021               5
5:                      0    5358         2021               4
6:                      2    2841         2021               4
   APPR_WIDTH_MT_032 MEDIAN_CODE_033 DEGREES_SKEW_034 STRUCTURE_FLARED_035
               &lt;num&gt;           &lt;int&gt;            &lt;int&gt;                &lt;int&gt;
1:               9.7               0               30                    0
2:               6.5               0                0                    0
3:              10.4               0                0                    0
4:              11.6               0               99                    0
5:               7.9               0                0                    0
6:               7.9               0                0                    0
   RAILINGS_036A TRANSITIONS_036B APPR_RAIL_036C APPR_RAIL_END_036D HISTORY_037
          &lt;char&gt;           &lt;char&gt;         &lt;char&gt;             &lt;char&gt;       &lt;int&gt;
1:             1                1              0                  1           5
2:             1                1              1                  1           5
3:             0                0              1                  1           5
4:             1                1              1                  1           5
5:             1                0              0                  0           4
6:             1                1              1                  1           1
   NAVIGATION_038 NAV_VERT_CLR_MT_039 NAV_HORR_CLR_MT_040
           &lt;char&gt;               &lt;num&gt;               &lt;num&gt;
1:              0                 0.0                 0.0
2:              0                 0.0                 0.0
3:              0                 0.0                 0.0
4:              N                 0.0                 0.0
5:              1                17.9                33.5
6:              1                17.3                33.5
   OPEN_CLOSED_POSTED_041 SERVICE_ON_042A SERVICE_UND_042B STRUCTURE_KIND_043A
                   &lt;char&gt;           &lt;int&gt;            &lt;int&gt;               &lt;int&gt;
1:                      A               1                5                   5
2:                      A               1                5                   5
3:                      P               1                5                   1
4:                      A               1                9                   5
5:                      A               5                5                   3
6:                      A               5                6                   4
   STRUCTURE_TYPE_043B APPR_KIND_044A APPR_TYPE_044B MAIN_UNIT_SPANS_045
                 &lt;int&gt;          &lt;int&gt;          &lt;int&gt;               &lt;int&gt;
1:                   5              0              0                   1
2:                   1              0              0                   1
3:                   4              0              0                   3
4:                   5              0              0                   5
5:                  10              3              2                   2
6:                   3              1             20                   8
   APPR_SPANS_046 HORR_CLR_MT_047 MAX_SPAN_LEN_MT_048 STRUCTURE_LEN_MT_049
            &lt;int&gt;           &lt;num&gt;               &lt;num&gt;                &lt;num&gt;
1:              0             9.7                14.7                 15.0
2:              0             9.7                12.9                 13.6
3:              0             7.3                18.3                 43.0
4:              0             8.6                14.0                 65.5
5:            143             6.0                53.3               1981.2
6:             78             6.0                46.9               1512.4
   LEFT_CURB_MT_050A RIGHT_CURB_MT_050B ROADWAY_WIDTH_MT_051 DECK_WIDTH_MT_052
               &lt;num&gt;              &lt;num&gt;                &lt;num&gt;             &lt;num&gt;
1:               0.0                0.0                  9.7               9.7
2:               0.3                0.3                  9.1               9.8
3:               0.6                0.6                  7.3               9.0
4:               0.0                0.0                  8.7              10.5
5:               0.9                0.2                  6.1               7.8
6:               1.7                0.5                  6.1               8.3
   VERT_CLR_OVER_MT_053 VERT_CLR_UND_REF_054A VERT_CLR_UND_054B
                  &lt;num&gt;                &lt;char&gt;             &lt;num&gt;
1:                99.99                     N              0.00
2:                99.99                     N              0.00
3:                99.99                     N              0.00
4:                99.99                     N              0.00
5:                 4.52                     N              0.00
6:                99.99                     H             12.19
   LAT_UND_REF_055A LAT_UND_MT_055B LEFT_LAT_UND_MT_056 DECK_COND_058
             &lt;char&gt;           &lt;num&gt;               &lt;num&gt;        &lt;char&gt;
1:                N               0                   0             7
2:                N               0                   0             7
3:                N               0                   0             5
4:                N               0                   0             7
5:                N               0                   0             5
6:                H               6                   0             5
   SUPERSTRUCTURE_COND_059 SUBSTRUCTURE_COND_060 CHANNEL_COND_061
                    &lt;char&gt;                &lt;char&gt;           &lt;char&gt;
1:                       5                     7                6
2:                       6                     7                6
3:                       5                     6                6
4:                       7                     7                7
5:                       6                     5                8
6:                       5                     5                8
   CULVERT_COND_062 OPR_RATING_METH_063 OPERATING_RATING_064
             &lt;char&gt;              &lt;char&gt;                &lt;num&gt;
1:                N                   2                 44.5
2:                N                   2                 84.8
3:                N                   0                 32.7
4:                N                   1                 44.2
5:                N                   1                 40.0
6:                N                   1                 58.4
   INV_RATING_METH_065 INVENTORY_RATING_066 STRUCTURAL_EVAL_067
                &lt;char&gt;                &lt;num&gt;              &lt;char&gt;
1:                   2                 32.7                   5
2:                   2                 35.1                   6
3:                   0                 22.5                   5
4:                   1                 26.6                   6
5:                   1                 23.9                   5
6:                   1                 35.0                   5
   DECK_GEOMETRY_EVAL_068 UNDCLRENCE_EVAL_069 POSTING_EVAL_070
                   &lt;char&gt;              &lt;char&gt;            &lt;int&gt;
1:                      7                   N                5
2:                      6                   N                5
3:                      5                   N                2
4:                      6                   N                5
5:                      2                   N                5
6:                      2                   9                5
   WATERWAY_EVAL_071 APPR_ROAD_EVAL_072 WORK_PROPOSED_075A WORK_DONE_BY_075B
              &lt;char&gt;              &lt;int&gt;              &lt;int&gt;             &lt;int&gt;
1:                 7                  8                 NA                NA
2:                 6                  8                 NA                NA
3:                 8                  6                 38                 1
4:                 9                  6                 NA                NA
5:                 8                  8                 31                 1
6:                 9                  3                 31                 1
   IMP_LEN_MT_076 DATE_OF_INSPECT_090 INSPECT_FREQ_MONTHS_091 FRACTURE_092A
            &lt;num&gt;               &lt;int&gt;                   &lt;int&gt;        &lt;char&gt;
1:            0.0                 221                      24             N
2:            0.0                 221                      24             N
3:           52.8                1021                      24             N
4:             NA                 622                      24             N
5:         1981.2                 621                      24           Y24
6:         1512.4                 622                      24           Y24
   UNDWATER_LOOK_SEE_092B SPEC_INSPECT_092C FRACTURE_LAST_DATE_093A
                   &lt;char&gt;            &lt;char&gt;                   &lt;int&gt;
1:                      N                 N                      NA
2:                      N                 N                      NA
3:                    Y60                 N                      NA
4:                      N                 N                      NA
5:                      N                 N                     621
6:                      N                 N                     622
   UNDWATER_LAST_DATE_093B SPEC_LAST_DATE_093C BRIDGE_IMP_COST_094
                     &lt;int&gt;               &lt;int&gt;               &lt;int&gt;
1:                      NA                  NA                   0
2:                      NA                  NA                   0
3:                    1021                  NA                   1
4:                      NA                  NA                  NA
5:                      NA                  NA               50000
6:                      NA                  NA               35000
   ROADWAY_IMP_COST_095 TOTAL_IMP_COST_096 YEAR_OF_IMP_097
                  &lt;int&gt;              &lt;int&gt;           &lt;int&gt;
1:                    0                  0            2021
2:                    0                  0            2021
3:                    1                  2            2021
4:                   NA                 NA              NA
5:                 2000              60000              NA
6:                 2000              45000              NA
   OTHER_STATE_CODE_098A OTHER_STATE_PCNT_098B OTHR_STATE_STRUC_NO_099
                  &lt;char&gt;                 &lt;int&gt;                  &lt;char&gt;
1:                                           0                        
2:                                           0                        
3:                                          NA                        
4:                                          NA                        
5:                                          NA                        
6:                                          NA                        
   STRAHNET_HIGHWAY_100 PARALLEL_STRUCTURE_101 TRAFFIC_DIRECTION_102
                  &lt;int&gt;                 &lt;char&gt;                 &lt;int&gt;
1:                    0                      N                     2
2:                    0                      N                     2
3:                    0                      N                     2
4:                    0                      N                     2
5:                    0                      N                     2
6:                    0                      N                     2
   TEMP_STRUCTURE_103 HIGHWAY_SYSTEM_104 FEDERAL_LANDS_105
               &lt;char&gt;              &lt;int&gt;             &lt;int&gt;
1:                                     0                 1
2:                                     0                 1
3:                                     0                 0
4:                                     0                 0
5:                                     0                 0
6:                                     0                 0
   YEAR_RECONSTRUCTED_106 DECK_STRUCTURE_TYPE_107 SURFACE_TYPE_108A
                    &lt;int&gt;                  &lt;char&gt;            &lt;char&gt;
1:                      0                       2                 6
2:                      0                       2                 6
3:                      0                       1                 1
4:                      0                       1                 0
5:                   1962                       1                 0
6:                   1958                       1                 5
   MEMBRANE_TYPE_108B DECK_PROTECTION_108C PERCENT_ADT_TRUCK_109
               &lt;char&gt;               &lt;char&gt;                 &lt;int&gt;
1:                  0                    1                     1
2:                  0                    8                     1
3:                  0                    0                    35
4:                  0                    0                     5
5:                  0                    0                    10
6:                  0                    0                     8
   NATIONAL_NETWORK_110 PIER_PROTECTION_111 BRIDGE_LEN_IND_112
                  &lt;int&gt;               &lt;int&gt;             &lt;char&gt;
1:                    0                  NA                  Y
2:                    0                  NA                  Y
3:                    0                  NA                  Y
4:                    0                  NA                  Y
5:                    0                   1                  Y
6:                    0                   1                  Y
   SCOUR_CRITICAL_113 FUTURE_ADT_114 YEAR_OF_FUTURE_ADT_115 MIN_NAV_CLR_MT_116
               &lt;char&gt;          &lt;int&gt;                  &lt;int&gt;              &lt;num&gt;
1:                  8             59                   2041                  0
2:                  7            200                   2041                  0
3:                  5            400                   2043                 NA
4:                  5            250                   2041                 NA
5:                  5           8000                   2041                 NA
6:                  5           3000                   2041                 NA
   FED_AGENCY SUBMITTED_BY BRIDGE_CONDITION LOWEST_RATING DECK_AREA
       &lt;char&gt;        &lt;int&gt;           &lt;char&gt;        &lt;char&gt;     &lt;num&gt;
1:          Y           62                F             5    145.50
2:          Y           62                F             6    133.28
3:          Y           74                F             5    387.00
4:          Y           67                G             7    687.75
5:          Y           67                F             5  15453.36
6:          Y           67                F             5  12552.92</code></pre>
</div>
</div>
<aside class="notes">
<p>Speaker notes</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="nbi-field-descriptions" class="slide level2" data-background-color="white" data-background-image="./_Water_color.png" data-background-size="cover">
<h2>NBI field descriptions</h2>
<aside class="notes">
<p>Speaker notes</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="refresher-hydrolocations" class="slide level2" data-background-color="white" data-background-image="./_Water_color.png" data-background-size="cover">
<h2>Refresher: Hydrolocations</h2>
<p>Hydrolocations store the source, identifier, and index of a critical location Points of Interest (POIs) aggregate co-located hydrolocations to singular network locations</p>
<aside class="notes">
<p>Speaker notes</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="conflation-method" class="slide level2">
<h2>Conflation method</h2>
<ol type="1">
<li></li>
<li></li>
<li></li>
</ol>
<aside class="notes">
<p>Speaker notes</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="select-cases" class="slide level2">
<h2>Select cases</h2>
<aside class="notes">
<p>Speaker notes</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="reprocessing" class="slide level2">
<h2>Reprocessing</h2>
<ul>
<li>Noted misalignment/errors with previous process
<ul>
<li>Some bridges appear misaligned with basemap ever so slightly.</li>
<li>Large areas missing geographic coverage.</li>
<li>Inconsistent processing methodology applied to scale.</li>
</ul></li>
<li>Traced to bridge line data</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="NBIHydrolocation_files/figure-revealjs/unnamed-chunk-5-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
<aside class="notes">
<p>Speaker notes</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="concluding-reconmendations" class="slide level2">
<h2>Concluding reconmendations</h2>
<p>Pre-clip is good! But, brittle tools and tool wiring are bad Suggestion: Input staging following an operational versioning schema Snapshot Versioning Utilitarian versioning - metadata changes Operational versioning - major version reconstruction Archival versioning - data overload!</p>
<pre><code># Read data out of the OSM database
bridges_data &lt;- osmextract::oe_read(
        path_to_roadlines,
        layer = "lines", 
        boundary = sf::st_bbox(vpus[vpus$huc2==vpu_unit, ]), 
        boundary_type = "spat",
        extra_tags = c("bridge", "highway"), 
        quiet = !is_verbose          
    )

# Pull out all lines tagged as "Bridge"
bridges_sf &lt;- bridges_data[grepl("yes|viaduct|aqueduct|footbridge|suspension_bridge|movable_bridge|railway_bridge", bridges_data$bridge, ignore.case = TRUE) &amp; 
                           !is.na(bridges_data$bridge), ]
    
# Filter to valid bridge codes
nbi_sf &lt;- nbi_sf[(nbi_sf$CULVERT_COND_062 == 'N' &amp; 
                  nbi_sf$SERVICE_UND_042B %in% c('5','6', '7', '8', '9') &amp; 
                  !(nbi_sf$SERVICE_ON_042A %in% c('2', '3', '9'))), ]</code></pre>
<aside class="notes">
<p>Speaker notes</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="whats-next" class="slide level2" data-background-color="white" data-background-image="./_Water_color.png" data-background-size="cover">
<h2>What’s next?</h2>
<div class="columns">
<div class="column" style="width:60%;">
<div style="background-color: #D3D3D390; border-radius: 25px; border-style: solid; border-width: 5px; border-color: #000000FF;">
<h3 id="outcomes-and-takeaways">Outcomes and Takeaways:</h3>
<ul class="task-list">
<li><label><input type="checkbox" checked="">Orient ourselves to the NBI database</label></li>
<li><label><input type="checkbox" checked="">Document the conflation process</label></li>
<li><label><input type="checkbox" checked="">Provide database: <a href="https://www.lynker-spatial.com/data/tabular-resources/">here</a></label></li>
</ul>
<h3 id="next-steps">Next Steps:</h3>
<ul class="task-list">
<li><label><input type="checkbox">Establish targets workflow</label></li>
<li><label><input type="checkbox">Explore better conflation methods.</label></li>
</ul>
</div>
</div><div class="column" style="width:40%;">
<img data-src="./_errata1_to_snbi_march_2022_publication_cover.png" class="r-stretch">
</div></div>
<p><a href="https://jimcoll.github.io/classes/RRASSLER_need.html"></a></p><a href="https://jimcoll.github.io/classes/RRASSLER_need.html">
</a><div class="absolute" style="padding: 0px 0px 5px 5px; margin: 0px 0px 0px 0px; border-style: solid; background-color: #D3D3D390; border-width: 5px; border-color: #2A76DDFF;left: 0%; bottom: 3%; width: 150px; height: 155px; "><a href="https://jimcoll.github.io/classes/RRASSLER_need.html">
<div id="id=" "="" class="qrcode"></div>
<script type="text/javascript">
(function() {
  var script = document.currentScript;
  var qrcode = script.previousElementSibling;
  qrcode.qrcode = new QRCode(qrcode, {"colorDark":"#000000","colorLight":"#ffffff","height":"150","text":"https://jimcoll.github.io/classes/RRASSLER_need.html","width":"150"});
  script.remove();
})();
</script>
    
</a><div style="font-size: 0.5em; background-color: #D3D3D390;"><a href="https://jimcoll.github.io/classes/RRASSLER_need.html">
</a><p><a href="https://jimcoll.github.io/classes/RRASSLER_need.html"></a><a href="https://jimcoll.github.io/classes/RRASSLER_need.html">This presentation</a></p>
</div>
</div>
<p></p>
<aside class="notes">

<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>


</section>

    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<p><img src="_waldo_logo.png" class="slide-logo"></p>
<div class="footer footer-default">
<p><a href="https://jimcoll.github.io/classes/atlas_index.html">Atlas</a> | <a href="./datasources.html">Data Sources</a></p>
</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="site_libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="site_libs/revealjs/plugin/reveal-text-resizer/revealjs-text-resizer.js"></script>
  <script src="site_libs/revealjs/plugin/reveal-confetti/confetti.js"></script>
  <script src="site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="site_libs/revealjs/plugin/search/search.js"></script>
  <script src="site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"right","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"8\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true,"width":"normal"},
'chalkboard': {"buttons":true},
'confetti': {"particleCount":150,"angle":90,"spread":360,"startVelocity":25,"decay":0.9,"gravity":0.65,"drift":0,"ticks":400,"colors":["#ffd200","#e31837","#0051ba"],"shapes":null,"scalar":0.7,"zIndex":100,"disableForReducedMotion":false},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'h.v',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'default',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1920,

        height: 1080,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, RevealTextResizer, RevealConfetti, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script type="text/javascript">

    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const onCopySuccess = function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      }
      const getTextToCopy = function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
        text: getTextToCopy
      });
      clipboard.on('success', onCopySuccess);
      if (window.document.getElementById('quarto-embedded-source-code-modal')) {
        const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
          text: getTextToCopy,
          container: window.document.getElementById('quarto-embedded-source-code-modal')
        });
        clipboardModal.on('success', onCopySuccess);
      }
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp('/' + window.location.host + '/');
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>